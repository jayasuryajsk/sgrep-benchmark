{"id": "q001", "query": "Where does the server accept live terminal session connections over ws?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "410-439"}], "notes": "upgradeWebSocket for /pty/:ptyID/connect"}
{"id": "q002", "query": "How are system-wide events pushed to clients in real time?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "155-219"}], "notes": "streamSSE on /global/event"}
{"id": "q003", "query": "Where is the endpoint that streams assistant replies back to a session?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "1396-1434"}], "notes": "stream() in /session/:sessionID/message"}
{"id": "q004", "query": "Where is the health check that returns the running version?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "150-153"}], "notes": "health endpoint returns Installation.VERSION"}
{"id": "q005", "query": "Where can the API read current user settings?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "442-461"}], "notes": "GET /config returns Config.get()"}
{"id": "q006", "query": "Where is a new terminal session spawned?", "answers": [{"path": "packages/opencode/src/pty/index.ts", "lines": "96-123"}], "notes": "Pty.create spawns bun-pty"}
{"id": "q007", "query": "Where does the server bridge terminal output to a client socket?", "answers": [{"path": "packages/opencode/src/pty/index.ts", "lines": "197-220"}], "notes": "Pty.connect hooks WSContext and forwards data"}
{"id": "q008", "query": "Where is the settings merge order (remote, global, project) decided?", "answers": [{"path": "packages/opencode/src/config/config.ts", "lines": "38-85"}], "notes": "Config.state loads well-known, global, project, inline"}
{"id": "q009", "query": "Where does it scan .opencode folders for extra configuration?", "answers": [{"path": "packages/opencode/src/config/config.ts", "lines": "91-118"}], "notes": "Config.state builds directories list and loads files"}
{"id": "q010", "query": "Where is the default tool list assembled?", "answers": [{"path": "packages/opencode/src/tool/registry.ts", "lines": "90-113"}], "notes": "ToolRegistry.all() returns default tools"}
{"id": "q011", "query": "Where is web search enabled only for certain providers?", "answers": [{"path": "packages/opencode/src/tool/registry.ts", "lines": "120-129"}], "notes": "ToolRegistry.tools() filter for codesearch/websearch"}
{"id": "q012", "query": "Where is external code context retrieval implemented?", "answers": [{"path": "packages/opencode/src/tool/codesearch.ts", "lines": "35-112"}], "notes": "CodeSearchTool defines Exa MCP request"}
{"id": "q013", "query": "Where is the fallback that downloads the rg binary?", "answers": [{"path": "packages/opencode/src/file/ripgrep.ts", "lines": "125-139"}], "notes": "Ripgrep.state fetches release when rg missing"}
{"id": "q014", "query": "Where is the TypeScript language server spawned?", "answers": [{"path": "packages/opencode/src/lsp/server.ts", "lines": "89-114"}], "notes": "LSPServer.Typescript.spawn uses typescript-language-server"}
{"id": "q015", "query": "Where does it download/install the Vue language server?", "answers": [{"path": "packages/opencode/src/lsp/server.ts", "lines": "118-137"}], "notes": "Vue LSP download/install when binary missing"}
{"id": "q016", "query": "Where is the token overflow check that triggers compaction?", "answers": [{"path": "packages/opencode/src/session/compaction.ts", "lines": "30-38"}], "notes": "SessionCompaction.isOverflow"}
{"id": "q017", "query": "Where is old tool output pruned during compaction?", "answers": [{"path": "packages/opencode/src/session/compaction.ts", "lines": "49-88"}], "notes": "SessionCompaction.prune"}
{"id": "q018", "query": "Where is the diff summary computed and stored for a session?", "answers": [{"path": "packages/opencode/src/session/summary.ts", "lines": "37-61"}], "notes": "summarizeSession writes session_diff"}
{"id": "q019", "query": "Where is the session title generated by an LLM?", "answers": [{"path": "packages/opencode/src/session/summary.ts", "lines": "82-110"}], "notes": "LLM stream to generate title"}
{"id": "q020", "query": "Where does it refresh the model catalog from the network?", "answers": [{"path": "packages/opencode/src/provider/models.ts", "lines": "87-103"}], "notes": "ModelsDev.refresh fetches api.json"}
{"id": "q021", "query": "Where is the OAuth callback handled for a provider?", "answers": [{"path": "packages/opencode/src/provider/auth.ts", "lines": "74-112"}], "notes": "ProviderAuth.callback stores Auth info"}
{"id": "q022", "query": "Where are provider credentials persisted on disk?", "answers": [{"path": "packages/opencode/src/auth/index.ts", "lines": "38-63"}], "notes": "Auth filepath uses Global.Path.data/auth.json"}
{"id": "q023", "query": "Where is a unique worktree name/branch chosen?", "answers": [{"path": "packages/opencode/src/worktree/index.ts", "lines": "163-176"}], "notes": "Worktree.candidate picks name and branch"}
{"id": "q024", "query": "Where is git worktree creation invoked?", "answers": [{"path": "packages/opencode/src/worktree/index.ts", "lines": "188-200"}], "notes": "Worktree.create uses git worktree add"}
{"id": "q025", "query": "Where does the project ID come from the git root commit?", "answers": [{"path": "packages/opencode/src/project/project.ts", "lines": "74-105"}], "notes": "Project.fromDirectory computes root commit id"}
{"id": "q026", "query": "Where are plugins loaded from config and built-ins?", "answers": [{"path": "packages/opencode/src/plugin/index.ts", "lines": "43-71"}], "notes": "Plugin.state loads built-ins and config plugins"}
{"id": "q027", "query": "Where does the approval/permission request get created?", "answers": [{"path": "packages/opencode/src/permission/next.ts", "lines": "116-141"}], "notes": "PermissionNext.ask"}
{"id": "q028", "query": "Where is approval reply handling implemented?", "answers": [{"path": "packages/opencode/src/permission/next.ts", "lines": "148-176"}], "notes": "PermissionNext.reply"}
{"id": "q029", "query": "Where is the user prompt question request emitted?", "answers": [{"path": "packages/opencode/src/question/index.ts", "lines": "96-119"}], "notes": "Question.ask publishes question.asked"}
{"id": "q030", "query": "Where is the preferred shell determined?", "answers": [{"path": "packages/opencode/src/shell/shell.ts", "lines": "36-60"}], "notes": "Shell.preferred uses env or fallback"}
{"id": "q031", "query": "Where does the API accept updates to configuration settings?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "464-486"}], "notes": "PATCH /config updates settings"}
{"id": "q032", "query": "Where are legacy tool flags translated into permission rules during prompting?", "answers": [{"path": "packages/opencode/src/session/prompt.ts", "lines": "157-171"}], "notes": "Backwards compatibility for input.tools"}
{"id": "q033", "query": "Where does prompt handling exit early when no reply is requested?", "answers": [{"path": "packages/opencode/src/session/prompt.ts", "lines": "174-176"}], "notes": "Early return if noReply"}
{"id": "q034", "query": "Where are markdown file references expanded into prompt parts?", "answers": [{"path": "packages/opencode/src/session/prompt.ts", "lines": "181-189"}], "notes": "resolvePromptParts + ConfigMarkdown.files"}
{"id": "q035", "query": "Where is the list of built-in auth plugins defined?", "answers": [{"path": "packages/opencode/src/plugin/index.ts", "lines": "15-16"}], "notes": "BUILTIN plugins list"}
{"id": "q036", "query": "Where does the plugin system subscribe to global bus events?", "answers": [{"path": "packages/opencode/src/plugin/index.ts", "lines": "102-116"}], "notes": "Plugin.init uses Bus.subscribeAll"}
{"id": "q037", "query": "Where is the event payload union schema constructed?", "answers": [{"path": "packages/opencode/src/bus/bus-event.ts", "lines": "21-38"}], "notes": "BusEvent.payloads"}
{"id": "q038", "query": "Where is the global event emitter created?", "answers": [{"path": "packages/opencode/src/bus/global.ts", "lines": "1-9"}], "notes": "GlobalBus EventEmitter"}
{"id": "q039", "query": "Where does storage read JSON records from disk?", "answers": [{"path": "packages/opencode/src/storage/storage.ts", "lines": "168-175"}], "notes": "Storage.read reads JSON with Lock.read"}
{"id": "q040", "query": "Where does storage write JSON records to disk?", "answers": [{"path": "packages/opencode/src/storage/storage.ts", "lines": "190-196"}], "notes": "Storage.write writes JSON with Lock.write"}
{"id": "q041", "query": "Where are worktree names normalized to URL-safe slugs?", "answers": [{"path": "packages/opencode/src/worktree/index.ts", "lines": "134-140"}], "notes": "Worktree.slug"}
{"id": "q042", "query": "Where is Windows process-tree termination handled?", "answers": [{"path": "packages/opencode/src/shell/shell.ts", "lines": "13-19"}], "notes": "Shell.killTree uses taskkill on win32"}
{"id": "q043", "query": "Where does LSP root discovery walk up the filesystem?", "answers": [{"path": "packages/opencode/src/lsp/server.ts", "lines": "41-49"}], "notes": "NearestRoot uses Filesystem.up"}
{"id": "q044", "query": "Where does code search ask for permission before querying?", "answers": [{"path": "packages/opencode/src/tool/codesearch.ts", "lines": "52-61"}], "notes": "ctx.ask for codesearch"}
{"id": "q045", "query": "Where is the OAuth dummy key constant defined?", "answers": [{"path": "packages/opencode/src/auth/index.ts", "lines": "6-6"}], "notes": "OAUTH_DUMMY_KEY constant"}
{"id": "q046", "query": "Where does the model catalog load cached data or fallback defaults?", "answers": [{"path": "packages/opencode/src/provider/models.ts", "lines": "78-84"}], "notes": "ModelsDev.get loads cache or macro"}
{"id": "q047", "query": "Where is the project updated event declared?", "answers": [{"path": "packages/opencode/src/project/project.ts", "lines": "43-45"}], "notes": "Project.Event Updated"}
{"id": "q048", "query": "Where are permission rules built from config values?", "answers": [{"path": "packages/opencode/src/permission/next.ts", "lines": "36-49"}], "notes": "PermissionNext.fromConfig"}
{"id": "q049", "query": "Where does the question system handle user replies?", "answers": [{"path": "packages/opencode/src/question/index.ts", "lines": "122-139"}], "notes": "Question.reply handles answers"}
{"id": "q050", "query": "Where is a random worktree name generated?", "answers": [{"path": "packages/opencode/src/worktree/index.ts", "lines": "143-145"}], "notes": "Worktree.randomName"}
