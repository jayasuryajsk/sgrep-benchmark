{"id": "q001", "query": "Where is the PTY WebSocket connection endpoint implemented?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "410-439"}], "notes": "upgradeWebSocket for /pty/:ptyID/connect"}
{"id": "q002", "query": "Where is the global events SSE stream implemented?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "155-219"}], "notes": "streamSSE on /global/event"}
{"id": "q003", "query": "Where does the server stream session prompt responses?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "1396-1434"}], "notes": "stream() in /session/:sessionID/message"}
{"id": "q004", "query": "Where does the server report health and version info?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "150-153"}], "notes": "health endpoint returns Installation.VERSION"}
{"id": "q005", "query": "Where is the config GET endpoint implemented?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "442-461"}], "notes": "GET /config returns Config.get()"}
{"id": "q006", "query": "Where is PTY session creation implemented?", "answers": [{"path": "packages/opencode/src/pty/index.ts", "lines": "96-123"}], "notes": "Pty.create spawns bun-pty"}
{"id": "q007", "query": "Where is PTY WebSocket bridging (connect) implemented?", "answers": [{"path": "packages/opencode/src/pty/index.ts", "lines": "197-220"}], "notes": "Pty.connect hooks WSContext and forwards data"}
{"id": "q008", "query": "Where is config precedence (well-known, global, project) implemented?", "answers": [{"path": "packages/opencode/src/config/config.ts", "lines": "38-85"}], "notes": "Config.state loads well-known, global, project, inline"}
{"id": "q009", "query": "Where are .opencode directories scanned for config/plugins?", "answers": [{"path": "packages/opencode/src/config/config.ts", "lines": "91-118"}], "notes": "Config.state builds directories list and loads files"}
{"id": "q010", "query": "Where are built-in tools assembled into the tool list?", "answers": [{"path": "packages/opencode/src/tool/registry.ts", "lines": "90-113"}], "notes": "ToolRegistry.all() returns default tools"}
{"id": "q011", "query": "Where is codesearch/websearch enabled only for opencode provider?", "answers": [{"path": "packages/opencode/src/tool/registry.ts", "lines": "120-129"}], "notes": "ToolRegistry.tools() filter for codesearch/websearch"}
{"id": "q012", "query": "Where is the CodeSearch tool (Exa MCP) implemented?", "answers": [{"path": "packages/opencode/src/tool/codesearch.ts", "lines": "35-112"}], "notes": "CodeSearchTool defines Exa MCP request"}
{"id": "q013", "query": "Where does OpenCode download ripgrep if missing?", "answers": [{"path": "packages/opencode/src/file/ripgrep.ts", "lines": "125-139"}], "notes": "Ripgrep.state fetches release when rg missing"}
{"id": "q014", "query": "Where is the TypeScript LSP server spawned?", "answers": [{"path": "packages/opencode/src/lsp/server.ts", "lines": "89-114"}], "notes": "LSPServer.Typescript.spawn uses typescript-language-server"}
{"id": "q015", "query": "Where does Vue LSP get installed if missing?", "answers": [{"path": "packages/opencode/src/lsp/server.ts", "lines": "118-137"}], "notes": "Vue LSP download/install when binary missing"}
{"id": "q016", "query": "Where is session overflow detection for compaction?", "answers": [{"path": "packages/opencode/src/session/compaction.ts", "lines": "30-38"}], "notes": "SessionCompaction.isOverflow"}
{"id": "q017", "query": "Where is session tool-output pruning implemented?", "answers": [{"path": "packages/opencode/src/session/compaction.ts", "lines": "49-88"}], "notes": "SessionCompaction.prune"}
{"id": "q018", "query": "Where does session summary compute diffs and store them?", "answers": [{"path": "packages/opencode/src/session/summary.ts", "lines": "37-61"}], "notes": "summarizeSession writes session_diff"}
{"id": "q019", "query": "Where is session title summarization performed?", "answers": [{"path": "packages/opencode/src/session/summary.ts", "lines": "82-110"}], "notes": "LLM stream to generate title"}
{"id": "q020", "query": "Where are models refreshed from the models.dev API?", "answers": [{"path": "packages/opencode/src/provider/models.ts", "lines": "87-103"}], "notes": "ModelsDev.refresh fetches api.json"}
{"id": "q021", "query": "Where is provider OAuth callback handled and stored?", "answers": [{"path": "packages/opencode/src/provider/auth.ts", "lines": "74-112"}], "notes": "ProviderAuth.callback stores Auth info"}
{"id": "q022", "query": "Where are auth tokens stored on disk?", "answers": [{"path": "packages/opencode/src/auth/index.ts", "lines": "38-63"}], "notes": "Auth filepath uses Global.Path.data/auth.json"}
{"id": "q023", "query": "Where is worktree name/branch generation implemented?", "answers": [{"path": "packages/opencode/src/worktree/index.ts", "lines": "163-176"}], "notes": "Worktree.candidate picks name and branch"}
{"id": "q024", "query": "Where is git worktree creation executed?", "answers": [{"path": "packages/opencode/src/worktree/index.ts", "lines": "188-200"}], "notes": "Worktree.create uses git worktree add"}
{"id": "q025", "query": "Where is project ID derived from the git root commit?", "answers": [{"path": "packages/opencode/src/project/project.ts", "lines": "74-105"}], "notes": "Project.fromDirectory computes root commit id"}
{"id": "q026", "query": "Where are plugins loaded (built-in and configured)?", "answers": [{"path": "packages/opencode/src/plugin/index.ts", "lines": "43-71"}], "notes": "Plugin.state loads built-ins and config plugins"}
{"id": "q027", "query": "Where is the permission ask flow implemented?", "answers": [{"path": "packages/opencode/src/permission/next.ts", "lines": "116-141"}], "notes": "PermissionNext.ask"}
{"id": "q028", "query": "Where is permission reply handling implemented?", "answers": [{"path": "packages/opencode/src/permission/next.ts", "lines": "148-176"}], "notes": "PermissionNext.reply"}
{"id": "q029", "query": "Where is user question request handled (Question.ask)?", "answers": [{"path": "packages/opencode/src/question/index.ts", "lines": "96-119"}], "notes": "Question.ask publishes question.asked"}
{"id": "q030", "query": "Where is preferred shell selection implemented?", "answers": [{"path": "packages/opencode/src/shell/shell.ts", "lines": "36-60"}], "notes": "Shell.preferred uses env or fallback"}
{"id": "q031", "query": "Where is the config PATCH endpoint implemented?", "answers": [{"path": "packages/opencode/src/server/server.ts", "lines": "464-486"}], "notes": "PATCH /config updates settings"}
{"id": "q032", "query": "Where does prompt handling map legacy tools permissions into rules?", "answers": [{"path": "packages/opencode/src/session/prompt.ts", "lines": "157-171"}], "notes": "Backwards compatibility for input.tools"}
{"id": "q033", "query": "Where does prompt handling skip reply when noReply is true?", "answers": [{"path": "packages/opencode/src/session/prompt.ts", "lines": "174-176"}], "notes": "Early return if noReply"}
{"id": "q034", "query": "Where does prompt parsing resolve file references into prompt parts?", "answers": [{"path": "packages/opencode/src/session/prompt.ts", "lines": "181-189"}], "notes": "resolvePromptParts + ConfigMarkdown.files"}
{"id": "q035", "query": "Where are built-in plugins listed?", "answers": [{"path": "packages/opencode/src/plugin/index.ts", "lines": "15-16"}], "notes": "BUILTIN plugins list"}
{"id": "q036", "query": "Where does plugin init subscribe to bus events?", "answers": [{"path": "packages/opencode/src/plugin/index.ts", "lines": "102-116"}], "notes": "Plugin.init uses Bus.subscribeAll"}
{"id": "q037", "query": "Where does BusEvent build the discriminated union of payloads?", "answers": [{"path": "packages/opencode/src/bus/bus-event.ts", "lines": "21-38"}], "notes": "BusEvent.payloads"}
{"id": "q038", "query": "Where is the global event bus defined?", "answers": [{"path": "packages/opencode/src/bus/global.ts", "lines": "1-9"}], "notes": "GlobalBus EventEmitter"}
{"id": "q039", "query": "Where is Storage.read implemented?", "answers": [{"path": "packages/opencode/src/storage/storage.ts", "lines": "168-175"}], "notes": "Storage.read reads JSON with Lock.read"}
{"id": "q040", "query": "Where is Storage.write implemented?", "answers": [{"path": "packages/opencode/src/storage/storage.ts", "lines": "190-196"}], "notes": "Storage.write writes JSON with Lock.write"}
{"id": "q041", "query": "Where does worktree slugify names?", "answers": [{"path": "packages/opencode/src/worktree/index.ts", "lines": "134-140"}], "notes": "Worktree.slug"}
{"id": "q042", "query": "Where is process tree termination handled on Windows?", "answers": [{"path": "packages/opencode/src/shell/shell.ts", "lines": "13-19"}], "notes": "Shell.killTree uses taskkill on win32"}
{"id": "q043", "query": "Where does LSP NearestRoot compute the project root?", "answers": [{"path": "packages/opencode/src/lsp/server.ts", "lines": "41-49"}], "notes": "NearestRoot uses Filesystem.up"}
{"id": "q044", "query": "Where does CodeSearchTool request permission before calling Exa?", "answers": [{"path": "packages/opencode/src/tool/codesearch.ts", "lines": "52-61"}], "notes": "ctx.ask for codesearch"}
{"id": "q045", "query": "Where is OAUTH_DUMMY_KEY defined?", "answers": [{"path": "packages/opencode/src/auth/index.ts", "lines": "6-6"}], "notes": "OAUTH_DUMMY_KEY constant"}
{"id": "q046", "query": "Where does ModelsDev.get read cached models or fall back to macro data?", "answers": [{"path": "packages/opencode/src/provider/models.ts", "lines": "78-84"}], "notes": "ModelsDev.get loads cache or macro"}
{"id": "q047", "query": "Where is Project.Event.Updated defined?", "answers": [{"path": "packages/opencode/src/project/project.ts", "lines": "43-45"}], "notes": "Project.Event Updated"}
{"id": "q048", "query": "Where is the permission ruleset built from config?", "answers": [{"path": "packages/opencode/src/permission/next.ts", "lines": "36-49"}], "notes": "PermissionNext.fromConfig"}
{"id": "q049", "query": "Where is Question.reply implemented?", "answers": [{"path": "packages/opencode/src/question/index.ts", "lines": "122-139"}], "notes": "Question.reply handles answers"}
{"id": "q050", "query": "Where is the worktree random name generated?", "answers": [{"path": "packages/opencode/src/worktree/index.ts", "lines": "143-145"}], "notes": "Worktree.randomName"}
